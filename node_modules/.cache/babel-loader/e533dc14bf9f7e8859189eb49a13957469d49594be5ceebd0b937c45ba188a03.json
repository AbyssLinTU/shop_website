{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop\\\\react-proj\\\\shop\\\\src\\\\context\\\\context.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from 'react';\nimport { state } from '../data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const fakeGetData = () => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(state);\n    }, 1);\n  });\n};\nexport const StateContext = /*#__PURE__*/createContext({\n  state: {\n    product: {},\n    order: {}\n  },\n  addOrder: () => {}\n});\nexport const addOrder = product1 => {\n  if (product1) {\n    state.order = [...state.order, {\n      img: product1.photo.main,\n      price: product1.sale,\n      id: product1.id,\n      name: product1.name,\n      title: product1.title,\n      amount: 1,\n      total: product1.price\n    }];\n    console.log(state.order);\n  }\n};\nexport const updateOrder = (id, plus) => {\n  const updatedOrder = state.order.map(item => {\n    if (item.id === id) {\n      if (plus) {\n        item.amount = item.amount + 1;\n        item.total = item.amount * item.price;\n      } else {\n        if (item.amount > 1) {\n          item.amount = item.amount - 1;\n          item.total = item.amount * item.price;\n        }\n      }\n    }\n    return item;\n  });\n  state.order = updatedOrder;\n};\nexport const removeOrder = id => {\n  state.order = state.order.filter(or => {\n    return or.id !== id;\n  });\n};\nexport function StateProvider(props) {\n  _s();\n  const [state1, setState] = useState(state);\n  const addOrder = product1 => {\n    if (product1) {\n      setState(prev => ({\n        ...prev,\n        order: [...prev.order, {\n          img: product1.photo.main,\n          price: product1.sale,\n          id: product1.id,\n          name: product1.name,\n          title: product1.title,\n          amount: 1\n        }]\n      }));\n    }\n  };\n  useEffect(() => {\n    setState(state);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(StateContext.Provider, {\n    value: {\n      state1,\n      addOrder\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(StateProvider, \"S1Mr09vu/YJdZDYgDYLvWE4HKCM=\");\n_c = StateProvider;\nvar _c;\n$RefreshReg$(_c, \"StateProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","state","jsxDEV","_jsxDEV","fakeGetData","Promise","resolve","setTimeout","StateContext","product","order","addOrder","product1","img","photo","main","price","sale","id","name","title","amount","total","console","log","updateOrder","plus","updatedOrder","map","item","removeOrder","filter","or","StateProvider","props","_s","state1","setState","prev","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Desktop/react-proj/shop/src/context/context.jsx"],"sourcesContent":["import  { createContext, useEffect, useState } from 'react';\r\nimport { state } from '../data';\r\nexport const fakeGetData = () => {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve(state);\r\n      }, 1);\r\n    });\r\n}\r\n\r\nexport const StateContext=createContext({\r\n    state:{\r\n        product:{},\r\n        order:{}\r\n    },\r\n    addOrder:()=>{\r\n      }\r\n})\r\nexport const addOrder=(product1)=>{\r\n    if(product1){\r\n    state.order=[...state.order,{img:product1.photo.main,price:product1.sale,id:product1.id,name:product1.name,\r\n    title:product1.title,amount:1,total:product1.price}]\r\n    console.log(state.order)\r\n    }\r\n  }\r\n  export const updateOrder=(id,plus)=>{\r\n    const updatedOrder = state.order.map((item) => {\r\n      if (item.id === id) {\r\n        if (plus) {\r\n          item.amount = item.amount + 1;\r\n          item.total = item.amount * item.price;\r\n        } else {\r\n          if (item.amount > 1) {\r\n            item.amount = item.amount - 1;\r\n            item.total = item.amount * item.price;\r\n          }\r\n        }\r\n      }\r\n      return item;\r\n    });\r\n    state.order=updatedOrder;\r\n  }\r\n  export const removeOrder=(id)=>{\r\n    state.order=state.order.filter(or=>{\r\n            \r\n      return or.id !== id;})\r\n  }\r\nexport function StateProvider(props){\r\n    const [state1,setState]=useState(state)\r\n    const addOrder = (product1) => {\r\n    if (product1) {\r\n      setState((prev) => ({\r\n        ...prev,\r\n        order: [...prev.order, { img: product1.photo.main, price: product1.sale, id: product1.id, name: product1.name, title: product1.title, amount: 1 }],\r\n      }));\r\n    }}\r\n    useEffect(()=>{\r\n        setState(state)\r\n    },[])\r\n\r\nreturn(\r\n    <StateContext.Provider value={{state1,addOrder}}>\r\n        {props.children}\r\n    </StateContext.Provider>\r\n)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}