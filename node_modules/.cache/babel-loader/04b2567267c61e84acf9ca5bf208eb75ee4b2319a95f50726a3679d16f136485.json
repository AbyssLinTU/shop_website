{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Tree}from'../../utils/Tree/Tree';import c from'./Basket.module.scss';import{StateContext}from'../../../context/context';import{CartItem}from'./CartItem';import cl from'classnames';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const Basket=()=>{const navigate=useNavigate();const[product,setProduct]=useState([]);const{state1}=useContext(StateContext);useEffect(()=>{if(state1.order){setProduct(state1.order);}},[state1]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:c.basket,children:[/*#__PURE__*/_jsx(\"div\",{className:c.tree,children:/*#__PURE__*/_jsx(Tree,{title:\"\\u041A\\u043E\\u0448\\u0438\\u043A\",mb:0,mt:0})}),state1.order[0]?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:c.table,children:[/*#__PURE__*/_jsxs(\"div\",{className:c.grid__row,children:[/*#__PURE__*/_jsx(\"span\",{className:cl(c.grid__el,c.grid__title_1),children:\"\\xA0\"}),/*#__PURE__*/_jsx(\"span\",{className:cl(c.grid__el,c.grid__title_1),children:\"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0443\"}),/*#__PURE__*/_jsx(\"span\",{className:cl(c.grid__el,c.grid__title_1),children:\"\\u041A\\u0456\\u043B\\u044C\\u043A\\u0456\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"span\",{className:cl(c.grid__el,c.grid__title_1),children:\"\\u0426\\u0456\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"span\",{className:cl(c.grid__el,c.grid__title_1),children:\"\\u0420\\u0430\\u0437\\u043E\\u043C\"}),/*#__PURE__*/_jsx(\"span\",{className:cl(c.grid__el,c.grid__title_1),children:\"\\xA0\"})]}),product.map(or=>{return/*#__PURE__*/_jsx(CartItem,{product:or},or.id);})]}),/*#__PURE__*/_jsx(\"div\",{className:c.result_container,children:/*#__PURE__*/_jsxs(\"div\",{className:c.result,children:[\"\\u0420\\u0430\\u0437\\u043E\\u043C:\",' ',state1.order.reduce((total,order)=>total+order.amount,0),' ',\"\\u0442\\u043E\\u0432\\u0430\\u0440\\u0430 \\u0437\\u0430\",' ',/*#__PURE__*/_jsxs(\"span\",{className:c.total,children:[state1.order.reduce((total,order)=>total+order.total,0),' ',\"\\u20B4\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:c.checkout,children:/*#__PURE__*/_jsx(\"button\",{className:c.checkout__button,onClick:()=>navigate('/order'),children:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u043D\\u044F \\u0437\\u0430\\u043A\\u0430\\u0437\\u0443\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:c.null,children:[/*#__PURE__*/_jsx(\"span\",{className:c.null__text,children:\"\\u0423 \\u043A\\u043E\\u0448\\u0438\\u043A\\u0443 \\u043D\\u0456\\u0447\\u043E\\u0433\\u043E \\u043D\\u0435 \\u043C\\u0430\\u0454\"}),/*#__PURE__*/_jsx(\"div\",{className:c.null__button,children:/*#__PURE__*/_jsx(\"button\",{className:c.checkout__button,onClick:()=>navigate('/main'),children:\"\\u041D\\u0430 \\u0433\\u043E\\u043B\\u043E\\u0432\\u043D\\u0443\"})})]})]})});};","map":{"version":3,"names":["React","useContext","useEffect","useState","Tree","c","StateContext","CartItem","cl","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Basket","navigate","product","setProduct","state1","order","children","className","basket","tree","title","mb","mt","table","grid__row","grid__el","grid__title_1","map","or","id","result_container","result","reduce","total","amount","checkout","checkout__button","onClick","null","null__text","null__button"],"sources":["D:/Git/shop_website/src/components/Pages/Basket/Basket.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Tree } from '../../utils/Tree/Tree';\r\nimport c from './Basket.module.scss';\r\nimport { StateContext } from '../../../context/context';\r\nimport { CartItem } from './CartItem';\r\nimport cl from 'classnames';\r\nimport { useNavigate } from 'react-router-dom';\r\nexport const Basket = () => {\r\n  const navigate = useNavigate();\r\n  const [product, setProduct] = useState([]);\r\n  const { state1 } = useContext(StateContext);\r\n  useEffect(() => {\r\n    if (state1.order) {\r\n      setProduct(state1.order);\r\n    }\r\n  }, [state1]);\r\n\r\n  return (\r\n    <>\r\n      <div className={c.basket}>\r\n        <div className={c.tree}>\r\n          <Tree title=\"Кошик\" mb={0} mt={0} />\r\n        </div>\r\n        {state1.order[0] ? (\r\n          <>\r\n            <div className={c.table}>\r\n              <div className={c.grid__row}>\r\n                <span className={cl(c.grid__el, c.grid__title_1)}>&nbsp;</span>\r\n                <span className={cl(c.grid__el, c.grid__title_1)}>\r\n                  Назва товару\r\n                </span>\r\n                <span className={cl(c.grid__el, c.grid__title_1)}>\r\n                  Кількість\r\n                </span>\r\n                <span className={cl(c.grid__el, c.grid__title_1)}>Ціна</span>\r\n                <span className={cl(c.grid__el, c.grid__title_1)}>Разом</span>\r\n                <span className={cl(c.grid__el, c.grid__title_1)}>&nbsp;</span>\r\n              </div>\r\n              {product.map(or => {\r\n                return <CartItem key={or.id} product={or} />;\r\n              })}\r\n            </div>\r\n            <div className={c.result_container}>\r\n              <div className={c.result}>\r\n                Разом:{' '}\r\n                {state1.order.reduce((total, order) => total + order.amount, 0)}{' '}\r\n                товара за{' '}\r\n                <span className={c.total}>\r\n                  {state1.order.reduce(\r\n                    (total, order) => total + order.total,\r\n                    0,\r\n                  )}{' '}\r\n                  ₴\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className={c.checkout}>\r\n              <button\r\n                className={c.checkout__button}\r\n                onClick={() => navigate('/order')}\r\n              >\r\n                Оформлення заказу\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className={c.null}>\r\n            <span className={c.null__text}>У кошику нічого не має</span>\r\n            <div className={c.null__button}>\r\n              <button\r\n                className={c.checkout__button}\r\n                onClick={() => navigate('/main')}\r\n              >\r\n                На головну\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}